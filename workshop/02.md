# Simple Pydantic model example

A simple Pydantic model looks this:

```python
from pydantic import BaseModel

class Person(BaseModel):
    name: str
    age: int
```

We can create instances of this model using keyword arguments:
    
```python
alice = Person(name="Alice", age=21)
bob = Person(name="Bob", age=20)
```

Or we can parse them from a dict:

```python
data = {"name": "Alice", "age": 21}

person = Person.model_validate(data)
```

Or from a JSON string:

```python
data = '{"name": "Alice", "age": 21}'

person = Person.model_validate_json(data)
```

Then we have an object we can "dot" into:

```python
>>> person.name
Alice
>>> person.age
21
```

If we pass in a numeric value for `age` as a string, Pydantic would convert it to an int:

```python
>>> Person(name="Alice", age="21")
Person(name='Alice', age=21)
```

If we pass in a value which cannot be parsed as an int, we get a validation error:

```python
>>> Person(name="Alice", age="Batmobile")

ValidationError: 1 validation error for Person
age
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='Batmobile', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
```

Since both fields are required, we also get an error if either field is missing:

```python
>>> Person()

ValidationError: 2 validation errors for Person
name
  Field required [type=missing, input_value={}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
age
  Field required [type=missing, input_value={}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
```

We could make `age` optional by setting its type to `int` or `None`:

```python
class Person(BaseModel):
    name: str
    age: int | None
```

Then we can create a `Person` with or without an integer `age` value:

```python
>>> Person(name="Alice", age=None)
Person(name='Alice', age=None)
>>> Person(name="Bob", age=20)
Person(name='Bob', age=20)
```

Usually when a field is optional, we set a default value of `None`:

```python
class Person(BaseModel):
    name: str
    age: int | None = None
```

That way, the `age` field can be skipped:

```python
>>> Person(name="Alice")
Person(name='Alice', age=None)
```

## Data modelling

```python
class Book(BaseModel):
    title: str
    author: str
    pages: int
    price: float
    published: int

book = Book(
    title="The Pragmatic Programmer",
    author="Andrew Hunt",
    pages=352,
    price="39.99",
    published=1999,
)
```

## Standard library types

In our `Book` model we used an integer to represent the published year. What if we wanted to use a
date e.g. 12 May 2008?

```python
from datetime import date

class Book(BaseModel):
    title: str
    author: str
    pages: int
    price: float
    published: date

book = Book(
    title="The Pragmatic Programmer",
    author="Andrew Hunt",
    pages=352,
    price="39.99",
    published=date(1999, 10, 30),
)
```

We could also pass in an ISO formatted string representing the date:

```python
book = Book(
    title="The Pragmatic Programmer",
    author="Andrew Hunt",
    pages=352,
    price="39.99",
    published="1999-10-30",
)
```

(Note other formats such as `30/10/1999` are not supported)

Either way, we get a `date` object under `book.published` meaning we could call methods on it:

```python
book.published.strftime("%d %B %Y")
Out[39]: '30 October 1999'
```

Similarly we could use `datetime` as a field type for a more precise time point:

```python
from datetime import datetime

class Event(BaseModel):
    name: str
    location: str
    start_time: datetime
```

And pass in a `datetime` object or an ISO formatted datetime string:

```
>>> Event(name="PyCon UK", location="Manchester", start_time=datetime(2025, 9, 19, 11))
Event(name='PyCon UK', location='Manchester', start_time=datetime.datetime(2025, 9, 19, 11, 0))
>>> Event(name="PyCon UK", location="Manchester", start_time="2025-09-19T11:00:00")
Event(name='PyCon UK', location='Manchester', start_time=datetime.datetime(2025, 9, 19, 11, 0))
```

## Exercise

Create models for:

- Movie
- Car
- Song
- Flight

using built-in and standard library types. Consider which fields could be optional, and whether
any could have sensible default values.